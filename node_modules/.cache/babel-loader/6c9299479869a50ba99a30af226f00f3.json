{"ast":null,"code":"import _objectSpread from\"C:/Users/ADMIN/OneDrive/M\\xE1y t\\xEDnh/Nft/deploy-shoppy/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/ADMIN/OneDrive/M\\xE1y t\\xEDnh/Nft/deploy-shoppy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import{useAppDispatch,useTypedSelector}from'../../util/hook';import{actionType}from'../../util/store/action';import{TbListDetails}from'react-icons/tb';import{BsCartCheckFill}from'react-icons/bs';import{MdAddShoppingCart}from'react-icons/md';import{LoadingFrame}from'../../component/loading';import'./table.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export function TableCollection(_ref){var nfts=_ref.nfts,links=_ref.links,linkDetail=_ref.linkDetail;var dispatch=useAppDispatch();var _useTypedSelector=useTypedSelector(function(state){return state.stateReducer;}),loadingCollection=_useTypedSelector.loadingCollection,requestLoading=_useTypedSelector.requestLoading;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),paramsRouter=_useState2[0],setParamsRouter=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),nftQty=_useState6[0],setNftQty=_useState6[1];var addToCart=function addToCart(item){var exist=nfts.find(function(x){return x._id===item._id;});if(exist){dispatch({type:actionType.SET_SHOPPING_CART,shoppingCart:{key:\"add\",value:exist}});setNftQty(nfts.filter(function(x){return x._id===item._id?_objectSpread(_objectSpread({},exist),{},{cart:exist.cart=true}):x;}));}};var removeCart=function removeCart(item){var exist=nfts.find(function(x){return x._id===item._id;});if(exist){dispatch({type:actionType.SET_SHOPPING_CART,shoppingCart:{key:\"remove\",value:exist}});setNftQty(nfts.filter(function(x){return x._id===item._id?_objectSpread(_objectSpread({},exist),{},{cart:exist.cart=false}):x;}));}};console.log(nfts);useEffect(function(){setParamsRouter(nftQty.filter(function(ele){return ele.qty===true;}).map(function(ele){return ele._id;}));},[nftQty]);console.log(nfts);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"asset-search-view-main\",style:{marginTop:\"0px\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"asset-search-view-result\",children:/*#__PURE__*/_jsx(\"div\",{className:\"asset-search-view-assets\",children:/*#__PURE__*/_jsx(\"div\",{className:\"fresnel-greater-sm\",children:/*#__PURE__*/_jsx(\"div\",{className:\"asset-view\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-grid-item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"table-items\",children:[loadingCollection===true?/*#__PURE__*/_jsx(LoadingFrame,{divHeight:\"380px\",divWidth:\"285px\",borderRadius:\"10px\"}):/*#__PURE__*/_jsx(_Fragment,{children:nfts===null||nfts===void 0?void 0:nfts.map(function(ele){return/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"img\",{src:ele.nftImage,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:ele.qty===true||ele.cart===true?'shadow-content active':'shadow-content',children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-item\",children:/*#__PURE__*/_jsxs(\"span\",{children:[ele.nftName,\" #\",ele._id,/*#__PURE__*/_jsx(\"br\",{}),ele.nftOwner]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-item bottom\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-offer\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"span-price\",children:[ele.nftPrice,\" ETH\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-offer right\",children:[ele.cart===false?/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"button-add\",onClick:function onClick(){return addToCart(ele);},children:/*#__PURE__*/_jsx(MdAddShoppingCart,{})}):/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"button-add active\",onClick:function onClick(){return removeCart(ele);},children:/*#__PURE__*/_jsx(BsCartCheckFill,{})}),/*#__PURE__*/_jsx(Link,{to:\"/\".concat(linkDetail,\"/\").concat(ele._id),children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"button-add\",children:/*#__PURE__*/_jsx(TbListDetails,{})})})]})]})]})]});})}),loading===true||requestLoading===true&&/*#__PURE__*/_jsx(LoadingFrame,{divHeight:\"380px\",divWidth:\"277px\"})]})})})})})})})});}","map":{"version":3,"names":["React","useEffect","useState","Link","useAppDispatch","useTypedSelector","actionType","TbListDetails","BsCartCheckFill","MdAddShoppingCart","LoadingFrame","TableCollection","nfts","links","linkDetail","dispatch","state","stateReducer","loadingCollection","requestLoading","paramsRouter","setParamsRouter","loading","setLoading","nftQty","setNftQty","addToCart","item","exist","find","x","_id","type","SET_SHOPPING_CART","shoppingCart","key","value","filter","cart","removeCart","console","log","ele","qty","map","marginTop","nftImage","nftName","nftOwner","nftPrice"],"sources":["C:/Users/ADMIN/OneDrive/Máy tính/Nft/deploy-shoppy/src/component/type-table-collection/table-collection.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Link, useNavigate, useSearchParams } from 'react-router-dom'\r\nimport { useAppDispatch, useTypedSelector } from '../../util/hook'\r\nimport { actionType } from '../../util/store/action'\r\nimport { TbListDetails } from 'react-icons/tb'\r\nimport { BsCheck2Circle, BsSearch, BsCartCheckFill } from 'react-icons/bs'\r\nimport { BiChevronDown, BiTable } from 'react-icons/bi'\r\nimport { MdCompare, MdAddShoppingCart } from 'react-icons/md'\r\nimport { LoadingFrame } from '../../component/loading'\r\nimport './table.scss'\r\n\r\nexport function TableCollection({ nfts, links, linkDetail }: any) {\r\n  const dispatch = useAppDispatch()\r\n\r\n  const { loadingCollection, requestLoading } = useTypedSelector((state: any) => state.stateReducer)\r\n\r\n  const [paramsRouter, setParamsRouter] = useState<any>(null)\r\n  const [loading, setLoading] = useState(false)\r\n  const [nftQty, setNftQty] = useState<any>([])\r\n\r\n  const addToCart = (item: any) => {\r\n    const exist = nfts.find((x: any) => x._id === item._id)\r\n    if (exist) {\r\n      dispatch({\r\n        type: actionType.SET_SHOPPING_CART,\r\n        shoppingCart: {key: \"add\", value: exist}\r\n      })\r\n      setNftQty(\r\n        nfts.filter((x: any) =>\r\n          x._id === item._id ? { ...exist, cart: exist.cart = true } : x\r\n        )\r\n      )\r\n    }\r\n  }\r\n\r\n  const removeCart = (item: any) => {\r\n    const exist = nfts.find((x: any) => x._id === item._id)\r\n    if (exist) {\r\n      dispatch({\r\n        type: actionType.SET_SHOPPING_CART,\r\n        shoppingCart: {key: \"remove\", value: exist}\r\n      })\r\n      setNftQty(\r\n        nfts.filter((x: any) =>\r\n          x._id === item._id ? { ...exist, cart: exist.cart = false } : x\r\n        )\r\n      )\r\n    }\r\n  }\r\n\r\n  console.log(nfts)\r\n  useEffect(() => {\r\n    setParamsRouter(nftQty.filter((ele: any) => (\r\n      ele.qty === true\r\n    )).map((ele: any) => (\r\n      ele._id\r\n    )))\r\n  }, [nftQty])\r\n\r\n  console.log(nfts)\r\n\r\n  return (\r\n    <>\r\n      <div className='asset-search-view-main' style={{marginTop:\"0px\"}}>\r\n        <div className='asset-search-view-result'>\r\n          <div className='asset-search-view-assets'>\r\n            <div className='fresnel-greater-sm'>\r\n              <div className='asset-view'>\r\n                <div className='table-grid-item'>\r\n                  <div className='table-items'>\r\n                    {\r\n                      loadingCollection === true\r\n                        ?\r\n                        <LoadingFrame divHeight=\"380px\" divWidth=\"285px\" borderRadius=\"10px\" />\r\n                        :\r\n                        <>\r\n                          {nfts?.map((ele: any) => (\r\n                            <div className='item'>\r\n                              <img src={ele.nftImage} alt='' />\r\n                              <div className={ele.qty === true || ele.cart === true\r\n                                ?\r\n                                'shadow-content active'\r\n                                :\r\n                                'shadow-content'\r\n                              }>\r\n                                <div className='flex-item'>\r\n                                  <span>\r\n                                    {ele.nftName} #{ele._id}\r\n                                    <br />\r\n                                    {ele.nftOwner}\r\n                                  </span>\r\n                                </div>\r\n                                <div className='flex-item bottom'>\r\n                                  <div className='flex-offer'>\r\n                                    <span className='span-price'>{ele.nftPrice} ETH</span>\r\n                                  </div>\r\n                                  <div className='flex-offer right'>\r\n                                    {\r\n                                      ele.cart === false\r\n                                        ?\r\n                                        <button type='button' className='button-add' onClick={() => addToCart(ele)}>\r\n                                          <MdAddShoppingCart />\r\n                                        </button>\r\n                                        :\r\n                                        <button type='button' className='button-add active' onClick={() => removeCart(ele)}>\r\n                                          <BsCartCheckFill />\r\n                                        </button>\r\n                                    }\r\n                                    <Link to={`/${linkDetail}/${ele._id}`}>\r\n                                      <button type='button' className='button-add'>\r\n                                        <TbListDetails />\r\n                                      </button>\r\n                                    </Link>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          ))}\r\n                        </>\r\n                    }\r\n\r\n                    {loading === true || requestLoading === true && <LoadingFrame divHeight=\"380px\" divWidth=\"277px\" />}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}