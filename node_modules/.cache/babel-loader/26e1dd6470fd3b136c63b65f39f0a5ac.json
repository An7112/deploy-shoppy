{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ADMIN/OneDrive/M\\xE1y t\\xEDnh/Nft/deploy-shoppy/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/ADMIN/OneDrive/M\\xE1y t\\xEDnh/Nft/deploy-shoppy/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";import{ApiItemCollection}from\"../../util/api-response\";import{actionType}from\"../../util/store/action\";export var getDataCollection=function getDataCollection(add){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var res,time;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:actionType.SET_LOADING_COLLECTION,loadingCollection:true});_context.prev=1;_context.next=4;return axios.get(ApiItemCollection);case 4:res=_context.sent;dispatch({type:actionType.SET_DATA_COLLECTION,dataCollection:res.data.slice(0,add),dataLength:res.data.length});dispatch({type:actionType.SET_LOADING_COLLECTION,loadingCollection:false});_context.next=14;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);dispatch({type:actionType.SET_AXIOS_MESSAGE,axiosMessage:{key:\"ecommerce\",value:\"\".concat(_context.t0.message,\" when receiving data about collection\"),status:\"error\"}});time=setTimeout(function(){dispatch({type:actionType.SET_AXIOS_MESSAGE,axiosMessage:{key:\"remove\",value:\"\"}});},5000);return _context.abrupt(\"return\",function(){return clearTimeout(time);});case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function(_x){return _ref.apply(this,arguments);};}();};","map":{"version":3,"names":["axios","ApiItemCollection","actionType","getDataCollection","add","dispatch","type","SET_LOADING_COLLECTION","loadingCollection","get","res","SET_DATA_COLLECTION","dataCollection","data","slice","dataLength","length","SET_AXIOS_MESSAGE","axiosMessage","key","value","message","status","time","setTimeout","clearTimeout"],"sources":["C:/Users/ADMIN/OneDrive/Máy tính/Nft/deploy-shoppy/src/access/collection-access/collection.tsx"],"sourcesContent":["import axios from \"axios\";\r\nimport { ApiItemCollection } from \"../../util/api-response\";\r\nimport { actionType } from \"../../util/store/action\";\r\n\r\nexport const getDataCollection = (add:number) => async (dispatch:any)=> {\r\n    dispatch({\r\n        type: actionType.SET_LOADING_COLLECTION,\r\n        loadingCollection: true\r\n    })\r\n    try{\r\n        const res = await axios.get(ApiItemCollection)\r\n        dispatch({\r\n            type: actionType.SET_DATA_COLLECTION,\r\n            dataCollection: res.data.slice(0, add),\r\n            dataLength: res.data.length\r\n        })\r\n        dispatch({\r\n            type: actionType.SET_LOADING_COLLECTION,\r\n            loadingCollection: false\r\n        })\r\n    }\r\n    catch(error:any) {\r\n        dispatch({\r\n            type: actionType.SET_AXIOS_MESSAGE,\r\n            axiosMessage: ({key:\"ecommerce\", value: `${error.message} when receiving data about collection`, status:\"error\"})\r\n        })\r\n        const time = setTimeout(() => { \r\n            dispatch({\r\n              type: actionType.SET_AXIOS_MESSAGE,\r\n              axiosMessage: ({ key: \"remove\", value: \"\" })\r\n            })\r\n          }, 5000)\r\n          return () =>  clearTimeout(time)\r\n    }\r\n}"],"mappings":"4SAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,iBAAiB,KAAQ,yBAAyB,CAC3D,OAASC,UAAU,KAAQ,yBAAyB,CAEpD,MAAO,IAAMC,kBAAiB,CAAG,QAApBA,kBAAiB,CAAIC,GAAU,mGAAK,iBAAOC,QAAY,iIAChEA,QAAQ,CAAC,CACLC,IAAI,CAAEJ,UAAU,CAACK,sBAAsB,CACvCC,iBAAiB,CAAE,IACvB,CAAC,CAAC,uCAEoBR,MAAK,CAACS,GAAG,CAACR,iBAAiB,CAAC,QAAxCS,GAAG,eACTL,QAAQ,CAAC,CACLC,IAAI,CAAEJ,UAAU,CAACS,mBAAmB,CACpCC,cAAc,CAAEF,GAAG,CAACG,IAAI,CAACC,KAAK,CAAC,CAAC,CAAEV,GAAG,CAAC,CACtCW,UAAU,CAAEL,GAAG,CAACG,IAAI,CAACG,MACzB,CAAC,CAAC,CACFX,QAAQ,CAAC,CACLC,IAAI,CAAEJ,UAAU,CAACK,sBAAsB,CACvCC,iBAAiB,CAAE,KACvB,CAAC,CAAC,gFAGFH,QAAQ,CAAC,CACLC,IAAI,CAAEJ,UAAU,CAACe,iBAAiB,CAClCC,YAAY,CAAG,CAACC,GAAG,CAAC,WAAW,CAAEC,KAAK,WAAK,YAAMC,OAAO,yCAAuC,CAAEC,MAAM,CAAC,OAAO,CACnH,CAAC,CAAC,CACIC,IAAI,CAAGC,UAAU,CAAC,UAAM,CAC1BnB,QAAQ,CAAC,CACPC,IAAI,CAAEJ,UAAU,CAACe,iBAAiB,CAClCC,YAAY,CAAG,CAAEC,GAAG,CAAE,QAAQ,CAAEC,KAAK,CAAE,EAAG,CAC5C,CAAC,CAAC,CACJ,CAAC,CAAE,IAAI,CAAC,iCACD,iBAAOK,aAAY,CAACF,IAAI,CAAC,wEAEzC"},"metadata":{},"sourceType":"module"}